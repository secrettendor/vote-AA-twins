// ==UserScript==
// @name         MUHLACH-TWINS
// @match        https://vote-kappa-seven.vercel.app/*
// @match        https://vote-for-muhlach-twins-btg1.vercel.app/*
// @grant        none
// ==/UserScript==

(function(){const _0x5a1b=["fetch","clone","json","status","Accepted","log","⚠ Could not parse vote","click","getItem","setItem","mousemove","dispatchEvent","h6","scrollIntoView","length","querySelectorAll","floor","random","custom-vote-button-icon","innerHTML","textContent","complete"];const w=window,d=document,wait=ms=>new Promise(r=>setTimeout(r,ms)),rw=(m=100,M=300)=>Math[_0x5a1b[17]](Math[_0x5a1b[16]]()* (M-m+1))+m,qAll=async(s,t=5e3,i=100)=>{const st=Date.now();while(1){const n=d[_0x5a1b[15]](s);if(n[_0x5a1b[14]])return n;if(Date.now()-st>t)return null;await wait(i);}};const seqs=[{name:"FAC",participant:"Atasha Muhlach",backend:["https://backend.choicely.com/images/Y2hvaWNlbHktZXUvaW1hZ2VzL2E0SVo5VFAxM3V1eHFoQVdJYTlX/serve/","https://backend.choicely.com/images/Y2hvaWNlbHktZXUvaW1hZ2VzLzdNSEY3SnNiWE5yYWg1a3NuQXZi/serve/"],buttonIndex:13},{name:"MAC",participant:"Andres Muhlach",backend:["https://backend.choicely.com/images/Y2hvaWNlbHktZXUvaW1hZ2VzL2E0SVo5VFAxM3V1eHFoQVdJYTlX/serve/","https://backend.choicely.com/images/Y2hvaWNlbHktZXUvaW1hZ2VzL01XSk9vZEwwbUdIc01oekMyUU85/serve/"],buttonIndex:5}];let lastVote=localStorage[_0x5a1b[8]]("lastVote")||"MAC";function getNext(){return lastVote==="FAC"?seqs[1]:seqs[0];}const oFetch=w[_0x5a1b[0]];w[_0x5a1b[0]]=async(...a)=>{const r=await oFetch.apply(w,a);if(a[0].includes("/vote_messages"))r[_0x5a1b[1]]()[_0x5a1b[2]]().then(j=>console[_0x5a1b[5]](j[_0x5a1b[3]]===_0x5a1b[4]?`✓ ${currentSeq.participant}`:"✖ Vote failed")).catch(()=>console[_0x5a1b[5]](_0x5a1b[6]));return r;};let currentSeq=null;async function run(){currentSeq=getNext();for(const u of currentSeq.backend){const i=(await qAll(`img[src="${u}"]`))?.[0];if(i)i[_0x5a1b[7]](),console[_0x5a1b[5]]("Clicked backend");await wait(rw());}const t=await qAll(_0x5a1b[12]);if(!t)return location.reload();const m=Array.from(t).find(e=>e[_0x5a1b[13]].trim()===currentSeq.participant);if(!m)return location.reload();m[_0x5a1b[13]];await wait(rw());const b=await qAll("."+_0x5a1b[18]);b&&b[currentSeq.buttonIndex]?b[currentSeq.buttonIndex][_0x5a1b[7]]():location.reload();}d.readyState===_0x5a1b[19]?run():w.addEventListener("load",run);setInterval(()=>w[_0x5a1b[11]](new MouseEvent(_0x5a1b[10],{bubbles:1})),1500);})();
